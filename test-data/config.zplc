# minimal config so that we can test parsing the RFC zpl

[nodes.n0]
provider = [["endpoint.zpr.adapter.cn", "fee"]]
zpr_address = "fd5a:5052:90de::1"

[trusted_services.foo]
prefix = "foo" # maybe prefix should default to <service-name> ?
api = "validation/2"
returns_attributes = [ 
  "government -> #user.government",
  "cleared -> #user.cleared", 
  "clearance -> user.clearance", 
  "managed -> #endpoint.managed", 
  "classified -> #service.classified", 
  "database -> #service.database", 
  "svc-id -> service.svc-id", 
  "service -> service.service", 
  "mach-type -> endpoint.mach-type", 
  "extnet -> service.external-network-connection", 
  "mach-id -> service.machine-id"]
provider = [["endpoint.zpr.adapter.cn", "foo"]]

[protocols.http]
l4protocol = "TCP"
port = 80

[services.foo-client]
protocol = "zpr-oauthrsa"

[services.foo-vs]
protocol = "zpr-validation2"

[services.server]
protocol = "http"

[services.Image-database]
protocol = "http"

[services.gateway]
protocol = "http"
